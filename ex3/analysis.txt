# CSC 369 Fall 2010 - Excercise 3
#
# Zeeshan Qureshi
# g0zee@cdf.toronto.edu

Environment
-----------
A Virtual Machines under VirtualBox with:
  * 32 MB of Memory
  * 7513 MB of Disk Space
  * 556 MB of Swap
  * ArchLinux x86 with Kernel 2.6.35

Rationale
---------
I decided to run the tests under a VM, because I could control how much
memory was available to the system and thus compare and contrast between a
small and large dataset under a reasonable amount of time.

Since modern CPUs also support hardware based virtualization, the
running time of the tests was pretty close to what I got outside the VM.

The VM video adapter took off 8 MB of RAM, and the base Arch install was using
around 23 MB, thus the application effectively had a megabyte of free space
which helped in seeing a significant difference in the datasets.

Tests
-----
I wrote a shell script[pageTest.sh] that ran the 'testheap' and 'testbh' 
tests for a various number of operations.

I also made the script change the DATASIZE after each set was completed.

The tested values were:
  * DATASIZEs of 8 16 32 64 128 and 256
  * Operations of 10k 50k 100k and 500k

I ran the test 3 times for each DATASIZE/num_ops combo to take into
account if the system was under heavy stress or other factors.

Results
-------

testheap
--------

DATASIZE  num_ops  MinFlt  MajFlt  UTime  STime  VSize  RSS 
8  10000  26  0  0  0  1867776  125  
8  50000  105  0  5  0  2191360  190  
8  100000  203  0  11  0  2592768  256
8  500000  984  0  66  4  5791744  1048
16  10000  47  0  0  0  1953792  124
16  50000  204  0  5  0  2592768  256
16  100000  398  0  12  0  3391488  454
16  500000  1961  0  76  4  9793536  2038
32  10000  86  0  1  0  2113536  190
32  50000  398  0  6  0  3391488  454
32  100000  789  0  12  1  4993024  850
32  500000  4150  15  90  11  17793024  3902
64  10000  164  0  0  0  2433024  257
64  50000  789  0  7  1  4993024  850
64  100000  1570  0  15  3  8192000  1642
64  500000  1163705  643863  3992  19592  33792000  3506
128  10000  320  0  1  0  3072000  389
128  50000  1570  0  9  1  8192000  1642
128  100000  3169  0  23  3  14594048  3195
128  500000  2598984  1756368  6093  67020  65794048  2895
256  10000  633  0  0  1  4354048  718
256  50000  3133  0  10  6  14594048  3226
256  100000  140696  70622  556  1963  27394048  3886
256  500000  3834548  3109666  7360  151628  129794048  2779

testbh
------

DATASIZE  num_ops  MinFlt  MajFlt  UTime  STime  VSize  RSS 
8  10000  7  0  1  0  1785856  124  
8  50000  7  0  11  0  2179072  187
8  100000  7  0  23  0  2572288  284
8  500000  7  0  154  0  5718016  1051
16  10000  7  0  1  0  1916928  123
16  50000  7  0  13  0  2572288  283
16  100000  7  0  32  0  3358720  476
16  500000  7  0  158  1  9785344  2045
32  10000  7  0  1  0  2048000  189
32  50000  7  0  14  0  3358720  475
32  100000  7  0  29  0  4931584  859
32  500000  102  15  163  2  17788928  3561
64  10000  7  0  2  0  2310144  220
64  50000  7  0  13  0  4931584  859
64  100000  6  0  31  0  8081408  1628
64  500000  391003  247868  1293  6309  33796096  3855
128  10000  7  0  2  0  2965504  379
128  50000  7  0  16  0  8081408  1628
128  100000  6  0  33  0  14512128  3199
128  500000  783203  605034  2253  20369  65810432  2700
256  10000  7  0  3  0  4276224  699
256  50000  6  0  18  0  14512128  3199
256  100000  73520  38748  304  1121  27369472  3771
256  500000  1388438  1190257  3018  53653  129835008  2593
