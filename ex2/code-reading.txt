CSC 369 Fall 2010 - Excercise 2

Zeeshan Qureshi
g0zee@cdf.toronto.edu
$Id$

Q1: OS/161 does not support interrupt priorities(levels) thus you can only turn them on or off.

Q2: Under dumbvm a page is 4096 bytes and each process gets 12 pages for it's user-level stack.

Q3: The function 'as_copy' is used to create an exact copy of an address space.

Q4: The function 'mi_threadstart' is the entrypoint for new threads. 

Q5: OS/161 provides semaphores, locks and condition variables.

Q6: The error 'EINVAL' should be generated when a system call is invoked with invalid arguments.

Q7: The syscall number for execv is 1 (SYS_execv).

Q8: The file 'kern/main/main.c' contains the machine independent code for the 'sys_reboot' call.

The file 'kern/dev/lamebus/lamebus.c' contains the 'lamebus_poweroff' function which contains the actual machine dependent code that does the reboot.

Q9: If you change a header file then you will have to run 'make' and 'make install' again.

Q10: If you add a new header, then you will have to reconfigure and re-compile. Thus you'll have to re-run everything i.e. ./config, make depend, make and make install

Q11: 7 Subsystems are bootstrapped during the boot phase. They are ram, vm, scheduler, thread, vfs, dev and kprintf respectively.

Q12: No it's not okay to use kprintf before the threads subsystem has been initialized because kthread uses a lock(mutex) to synchronize which in turn depends on the threads subsystem to work properly.

Q13: The menu function runs inside the kernel (a hint is that it has a bunch of kprintf's which signify that it's running inside the kernel).
